# The loginWithAuth0Social mutation is a helper that you can use directly with native social SDKs.
# I.E. you do not need to use an Auth0 SDK to generate an idToken.
# You can also use an Auth0 SDK and the `loginWithAuth0` mutation but this requires one more step on your side.

mutation CreateEvent($event: CreateEventInput!) {
    createEvent(input: $event){
        changedEvent{
            type
            fbID
            id
        }
    }
}

query FetchEvent($where:EventWhereArgs!){
    viewer{
        allEvents(where: $where){
            edges{
                node{
                    type
                    fbID
                    id
                    workshops{
                        edges{
                            node{
                                name
                                startTime
                                artist
                                room
                                id
                            }
                        }
                    }
                }
            }
        }
    }
}

query FetchEventAlgolia($fbID: String!){
    viewer {
        searchAlgoliaEvents(query: $fbID){
            hits{
                node{
                    type
                    fbID
                    id
                    workshops{
                        edges{
                            node{
                                name
                                startTime
                                artist
                                room
                                id
                            }
                        }
                    }
                }
            }
        }
    }
}

query FetchAllEvents{
    viewer{
        allEvents{
            edges{
                node{
                    type
                    fbID
                    id
                }
            }
        }
    }
}

mutation CreateWorkshop($workshop: CreateWorkshopInput!){
    createWorkshop(input: $workshop){
        changedWorkshop{
            name
            event {
                id
            }
            startTime
            room
        }
    }
}
